import{i as A,g as P,d as R,f as Y,r as j,e as g}from"./scheduler.B_OghNyv.js";import{q as z,n as N,o as F,p as O}from"./index.C9ik1EU3.js";import{w as k}from"./entry.BsLt1Fvm.js";function W(t,e){const s=e.token={};function n(c,o,r,p){if(e.token!==s)return;e.resolved=p;let f=e.ctx;r!==void 0&&(f=f.slice(),f[r]=p);const h=c&&(e.current=c)(f);let _=!1;e.block&&(e.blocks?e.blocks.forEach((b,a)=>{a!==o&&b&&(z(),N(b,1,1,()=>{e.blocks[a]===b&&(e.blocks[a]=null)}),F())}):e.block.d(1),h.c(),O(h,1),h.m(e.mount(),e.anchor),_=!0),e.block=h,e.blocks&&(e.blocks[o]=h),_&&Y()}if(A(t)){const c=P();if(t.then(o=>{R(c),n(e.then,1,e.value,o),R(null)},o=>{if(R(c),n(e.catch,2,e.error,o),R(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function X(t,e,s){const n=e.slice(),{resolved:c}=t;t.current===t.then&&(n[t.value]=c),t.current===t.catch&&(n[t.error]=c),t.block.p(n,s)}function Z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function $(t,e){N(t,1,1,()=>{e.delete(t.key)})}function L(t,e,s,n,c,o,r,p,f,h,_,b){let a=t.length,w=o.length,d=a;const I={};for(;d--;)I[t[d].key]=d;const v=[],B=new Map,C=new Map,S=[];for(d=w;d--;){const l=b(c,o,d),u=s(l);let i=r.get(u);i?n&&S.push(()=>i.p(l,e)):(i=h(u,l),i.c()),B.set(u,v[d]=i),u in I&&C.set(u,Math.abs(d-I[u]))}const T=new Set,y=new Set;function D(l){O(l,1),l.m(p,_),r.set(l.key,l),_=l.first,w--}for(;a&&w;){const l=v[w-1],u=t[a-1],i=l.key,E=u.key;l===u?(_=l.first,a--,w--):B.has(E)?!r.has(i)||T.has(i)?D(l):y.has(E)?a--:C.get(i)>C.get(E)?(y.add(i),D(l)):(T.add(E),a--):(f(u,r),a--)}for(;a--;){const l=t[a];B.has(l.key)||f(l,r)}for(;w;)D(v[w-1]);return j(S),v}const M=k(!1),x=k(null),m=k([]),V=k(null);function G(t=1){var n,c;const e=g(m).length,s=g(m)[e-1];return g(x)||(n=s==null?void 0:s.callbacks)!=null&&n.onBeforeClose&&((c=s==null?void 0:s.callbacks)==null?void 0:c.onBeforeClose())===!1?!1:(g(M)&&e>0&&x.set(!0),M.set(!1),V.set("pop"),H(t),!0)}function ee(){return G(1)}function te(t,e,s){g(x)||(V.set("push"),g(M)&&g(m).length&&x.set(!0),M.set(!1),s!=null&&s.replace?m.update(n=>[...n.slice(0,n.length-1),{component:t,props:e}]):m.update(n=>[...n,{component:t,props:e}]))}function H(t=1){m.update(e=>e.slice(0,Math.max(0,e.length-t)))}const q=k([]),J=t=>{console.log("Removing notification with ID:",t),q.update(e=>e.filter(s=>s.id!==t))},se=(t,e="info",s="short")=>{const n=Math.random().toString(36).substr(2,9);let c=0;e!=="info"&&e!=="danger"&&e!=="warning"&&e!=="success"&&(e="danger",t+=' [DEV_ERROR - "Invalid notification TYPE"]'),s!=="short"&&s!=="medium"&&s!=="long"&&s!=="stay"&&(e="danger",t+=' [DEV_ERROR - "Invalid notification TIME length"]'),s==="short"&&(c=2e3),s==="medium"&&(c=3e3),s==="long"&&(c=5e3),s==="stay"&&(c="stay"),q.update(o=>[...o,{id:n,message:t,type:e,time:c}]),c!="stay"&&setTimeout(()=>J(n),c)};export{Z as a,X as b,ee as c,se as d,M as e,te as f,W as h,m,q as n,$ as o,J as r,x as t,L as u};
